* java 代码用法收藏
** AutoCloseable
实现AutoCloaseable接口，实现AutoCloaseable的close()方法资源自动释放
try(初始化资源){do something} // 当do something 做完后，会自动调用之前定义的
close()方法
#+BEGIN_SRC java
class ALock implements AutoCloseable {
    private final Lock lock;
    
    public ALock(Lock l) {
        this.lock = l;
    }
    
    public final ALock lock() {
        this.lock.lock();
        return this;
    }

    public final void close() {
        this.lock.unlock();
    }
}

class ALockTest() {
    protected ReadWriteLock rwLock = new ReentrantReadWriteLock();
    protected ALock readLock = new ALock(rwLock.readLock());
//    protected ALock writeLock = new ALock(rwLock.writeLock());

    try (ALock l = readLock.lock()){
        //do something.
    }
} 
#+END_SRC
